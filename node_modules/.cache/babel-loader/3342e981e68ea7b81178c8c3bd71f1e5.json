{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\manis\\\\academics\\\\sem3\\\\web\\\\mini-project\\\\Twilight\\\\src\\\\Components\\\\Login\\\\index.js\";\n//src/components/About/index.js\nimport React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport './Login.css';\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: \"\",\n      useravatar: \"\",\n      password: \"\",\n      redirect: false,\n      incorrect: false,\n      register: false\n    };\n    this.handleLogin = this.handleLogin.bind(this);\n  }\n\n  handleLogin(e) {\n    e.preventDefault();\n    console.log(\"Entered login handle\");\n    fetch(\"/login\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        username: this.state.username,\n        password: this.state.password\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(user => user.json()).then(user => {\n      if (user.length) {\n        this.setState({\n          redirect: true,\n          useravatar: user[0].useravatar,\n          incorrect: false\n        });\n      } else {\n        this.setState({\n          incorrect: true\n        });\n      }\n    });\n  }\n\n  render() {\n    if (this.state.register) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        push: true,\n        to: \"/Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 1\n      }, this);\n    }\n\n    if (this.state.redirect) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        push: true,\n        to: {\n          pathname: \"/Home\",\n          state: {\n            username: this.state.username,\n            useravatar: this.state.useravatar\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 2\n      }, this);\n    }\n\n    if (this.state.incorrect) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: this.handleLogin,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"username\",\n            children: \"Username: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: this.state.username,\n            placeholder: \"enter a username\",\n            onChange: e => this.setState({\n              username: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"password\",\n              children: \"password: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              value: this.state.password,\n              placeholder: \"enter a password\",\n              onChange: e => this.setState({\n                password: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 2\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: e => this.setState({\n              register: true\n            }),\n            children: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 2\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Incorrect username or password entered\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 1\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.handleLogin,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"username\",\n          children: \"Username: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: this.state.username,\n          placeholder: \"enter a username\",\n          onChange: e => this.setState({\n            username: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"password\",\n            children: \"password: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            value: this.state.password,\n            placeholder: \"enter a password\",\n            onChange: e => this.setState({\n              password: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => this.setState({\n            register: true\n          }),\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 2\n      }, this);\n    }\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/manis/academics/sem3/web/mini-project/Twilight/src/Components/Login/index.js"],"names":["React","Redirect","Login","Component","constructor","props","state","username","useravatar","password","redirect","incorrect","register","handleLogin","bind","e","preventDefault","console","log","fetch","method","body","JSON","stringify","headers","then","user","json","length","setState","render","pathname","target","value"],"mappings":"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","sourcesContent":["//src/components/About/index.js\n\nimport React from 'react';\nimport {Redirect} from 'react-router-dom';\nimport './Login.css';\n\nclass Login  extends React.Component{\n\nconstructor(props){\n\tsuper(props);\n\tthis.state = {\n\tusername:\"\",\n\tuseravatar:\"\",\n\tpassword:\"\",\n\tredirect:false,\n\tincorrect:false,\n        register:false,\n\t};\n\t\n\tthis.handleLogin = this.handleLogin.bind(this);\n\t\n\t\n}\n\nhandleLogin(e){\n  e.preventDefault();\n  console.log(\"Entered login handle\")\n fetch(\"/login\",\n {\n\tmethod:\"POST\",\n\tbody:JSON.stringify({username:this.state.username,password:this.state.password}),\n\theaders:{'Content-Type':'application/json'}\n }\n)\n.then(user=>user.json())\n .then((user)=>{\n if(user.length){\n  this.setState({redirect:true,useravatar:user[0].useravatar,incorrect:false});\n}else{this.setState({incorrect:true})}\n})\n\n}\n\nrender(){\nif(this.state.register){\nreturn(\n<Redirect push to= \"/Register\"/>\n);\n}\n\nif(this.state.redirect){\n return(\n\t<Redirect push\n            to={{\n            pathname: \"/Home\",\n            state: {\n\t\tusername:this.state.username,\n\t\tuseravatar:this.state.useravatar\n\t}\n          }}\n        />\n\n);\n}\nif(this.state.incorrect){\nreturn(\n<div>\n      <form onSubmit={this.handleLogin}>\n      <label htmlFor=\"username\">Username: </label>\n      <input\n        type=\"text\"\n        value={this.state.username}\n        placeholder=\"enter a username\"\n        onChange={(e) => this.setState({username:e.target.value})}\n      />\n      <div>\n        <label htmlFor=\"password\">password: </label>\n        <input\n          type=\"password\"\n          value={this.state.password}\n          placeholder=\"enter a password\"\n          onChange={(e) => this.setState({password:e.target.value})}\n        />\n      </div>\n      <button type=\"submit\">Login</button>\n\t<br/>\n\t<button onClick = {(e)=>this.setState({register:true})}>Register</button>\n    </form>\n\n    <h2>Incorrect username or password entered</h2>\n</div>\n);\n}\nelse{\nreturn(\n\t<form onSubmit={this.handleLogin}>\n      <label htmlFor=\"username\">Username: </label>\n      <input\n        type=\"text\"\n        value={this.state.username}\n        placeholder=\"enter a username\"\n        onChange={(e) => this.setState({username:e.target.value})}\n      />\n      <div>\n        <label htmlFor=\"password\">password: </label>\n        <input\n          type=\"password\"\n          value={this.state.password}\n          placeholder=\"enter a password\"\n          onChange={(e) => this.setState({password:e.target.value})}\n        />\n      </div>\n      <button type=\"submit\">Login</button>\n       <br/>\n      <button onClick = {(e)=>this.setState({register:true})}>Register</button>\n    </form>\n);\n}\n\n}\n}\n\nexport default Login;\n\n"]},"metadata":{},"sourceType":"module"}