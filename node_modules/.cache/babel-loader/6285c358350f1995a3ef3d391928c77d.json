{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\manis\\\\academics\\\\sem3\\\\web\\\\mini-project\\\\Twilight\\\\src\\\\Components\\\\Login\\\\index.js\";\nimport React from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport \"./Login.css\";\nimport \"bootstrap/dist/css/bootstrap.css\";\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: \"\",\n      useravatar: \"\",\n      password: \"\",\n      redirect: false,\n      incorrect: false,\n      register: false\n    };\n    this.handleLogin = this.handleLogin.bind(this);\n  }\n\n  handleLogin(e) {\n    e.preventDefault();\n    console.log(\"Entered login handle\");\n    fetch(\"/login\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        username: this.state.username,\n        password: this.state.password\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(user => user.json()).then(user => {\n      if (user.length) {\n        this.setState({\n          redirect: true,\n          useravatar: user[0].useravatar,\n          incorrect: false\n        });\n      } else {\n        this.setState({\n          incorrect: true\n        });\n      }\n    });\n  }\n\n  render() {\n    if (this.state.register) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        push: true,\n        to: \"/Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 14\n      }, this);\n    }\n\n    if (this.state.redirect) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        push: true,\n        to: {\n          pathname: \"/Home\",\n          state: {\n            username: this.state.username,\n            useravatar: this.state.useravatar\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this);\n    }\n\n    if (this.state.incorrect) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"Nav-brand-logo\",\n          href: \"/\",\n          children: \"Twilight\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: this.handleLogin,\n          children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: /*#__PURE__*/_jsxDEV(\"u\", {\n              children: \"Login Page\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"username\",\n            children: \"Username: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: this.state.username,\n            placeholder: \"enter a username\",\n            onChange: e => this.setState({\n              username: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"password\",\n              children: \"Password: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              value: this.state.password,\n              placeholder: \"enter a password\",\n              onChange: e => this.setState({\n                password: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            class: \"btn btn-primary\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Incorrect username or password entered\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Don't have an account?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            class: \"btn btn-secondary\",\n            onClick: e => this.setState({\n              register: true\n            }),\n            children: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.handleLogin,\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"Nav-brand-logo\",\n          href: \"/\",\n          children: \"Twilight\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"../alpine.jfif\",\n          alt: \"Not found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: /*#__PURE__*/_jsxDEV(\"u\", {\n            children: \"Login Page\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"username\",\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Username: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: this.state.username,\n          placeholder: \"enter a username\",\n          onChange: e => this.setState({\n            username: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"password\",\n            children: /*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Password: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            value: this.state.password,\n            placeholder: \"enter a password\",\n            onChange: e => this.setState({\n              password: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          class: \"btn btn-primary\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Don't have an account?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          class: \"btn btn-secondary\",\n          onClick: e => this.setState({\n            register: true\n          }),\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this);\n    }\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/manis/academics/sem3/web/mini-project/Twilight/src/Components/Login/index.js"],"names":["React","Redirect","Login","Component","constructor","props","state","username","useravatar","password","redirect","incorrect","register","handleLogin","bind","e","preventDefault","console","log","fetch","method","body","JSON","stringify","headers","then","user","json","length","setState","render","pathname","target","value"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport \"./Login.css\";\nimport \"bootstrap/dist/css/bootstrap.css\";\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: \"\",\n      useravatar: \"\",\n      password: \"\",\n      redirect: false,\n      incorrect: false,\n      register: false,\n    };\n\n    this.handleLogin = this.handleLogin.bind(this);\n  }\n\n  handleLogin(e) {\n    e.preventDefault();\n    console.log(\"Entered login handle\");\n    fetch(\"/login\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        username: this.state.username,\n        password: this.state.password,\n      }),\n      headers: { \"Content-Type\": \"application/json\" },\n    })\n      .then((user) => user.json())\n      .then((user) => {\n        if (user.length) {\n          this.setState({\n            redirect: true,\n            useravatar: user[0].useravatar,\n            incorrect: false,\n          });\n        } else {\n          this.setState({ incorrect: true });\n        }\n      });\n  }\n\n  render() {\n    if (this.state.register) {\n      return <Redirect push to=\"/Register\" />;\n    }\n\n    if (this.state.redirect) {\n      return (\n        <Redirect\n          push\n          to={{\n            pathname: \"/Home\",\n            state: {\n              username: this.state.username,\n              useravatar: this.state.useravatar,\n            },\n          }}\n        />\n      );\n    }\n    if (this.state.incorrect) {\n      return (\n        <div>\n          <a className=\"Nav-brand-logo\" href=\"/\">\n            Twilight\n          </a>\n          <form onSubmit={this.handleLogin}>\n            <br></br>\n            <br></br>\n            <br></br>\n            <br></br>\n            <br />\n            <br />\n            <h3>\n              <u>Login Page</u>\n            </h3>\n            <label htmlFor=\"username\">Username: </label>\n            <input\n              type=\"text\"\n              value={this.state.username}\n              placeholder=\"enter a username\"\n              onChange={(e) => this.setState({ username: e.target.value })}\n            />\n            <div>\n              <label htmlFor=\"password\">Password: </label>\n              <input\n                type=\"password\"\n                value={this.state.password}\n                placeholder=\"enter a password\"\n                onChange={(e) => this.setState({ password: e.target.value })}\n              />\n            </div>\n            <button type=\"submit\" class=\"btn btn-primary\">\n              Login\n            </button>\n            <p>Incorrect username or password entered</p>\n            <br />\n            <br />\n            <br />\n            <br />\n            <br />\n            <br />\n            <br />\n            <br />\n            <p>Don't have an account?</p>\n            <button\n              class=\"btn btn-secondary\"\n              onClick={(e) => this.setState({ register: true })}\n            >\n              Register\n            </button>\n          </form>\n        </div>\n      );\n    } else {\n      return (\n        <form onSubmit={this.handleLogin}>\n          <a className=\"Nav-brand-logo\" href=\"/\">\n            Twilight\n          </a>\n          <img src=\"../alpine.jfif\" alt=\"Not found\"></img>\n          <br />\n          <br />\n          <br />\n          <br />\n          <br />\n          <br />\n          <h4>\n            <u>Login Page</u>\n          </h4>\n          <label htmlFor=\"username\">\n            <b>Username: </b>\n          </label>\n          <input\n            type=\"text\"\n            value={this.state.username}\n            placeholder=\"enter a username\"\n            onChange={(e) => this.setState({ username: e.target.value })}\n          />\n          <div>\n            <label htmlFor=\"password\">\n              <b>Password: </b>\n            </label>\n            <input\n              type=\"password\"\n              value={this.state.password}\n              placeholder=\"enter a password\"\n              onChange={(e) => this.setState({ password: e.target.value })}\n            />\n          </div>\n          <button type=\"submit\" class=\"btn btn-primary\">\n            Login\n          </button>\n          <br />\n          <br />\n          <br />\n          <br />\n          <br />\n          <br />\n          <br />\n          <br />\n          <br />\n          <p>Don't have an account?</p>\n          <button\n            class=\"btn btn-secondary\"\n            onClick={(e) => this.setState({ register: true })}\n          >\n            Register\n          </button>\n        </form>\n      );\n    }\n  }\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}